# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Screen_Yeu_cau:
    Properties:
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
    Children:
      - Container_List_YC:
          Control: GroupContainer@1.4.0
          Variant: ManualLayout
          Properties:
            Height: =1366
            Width: =768
          Children:
            - TextCanvas3:
                Control: Text@0.0.51
                Properties:
                  Font: =Font.'Open Sans'
                  Height: =68
                  PaddingLeft: =100
                  Size: =16
                  Text: ="Danh sách yêu cầu"
                  VerticalAlign: =VerticalAlign.Middle
                  Weight: ='TextCanvas.Weight'.Bold
                  Width: =768
            - Pivot2:
                Control: CodeComponent
                ComponentName: cat_PowerCAT.Pivot
                Properties:
                  Height: =50
                  Items: |-
                    =Table(
                      {
                          ItemKey: "pending",
                          ItemDisplayName: "Chờ xử lý",
                          ItemIconName: "Clock"
                      },
                      {
                          ItemKey: "completed",
                          ItemDisplayName: "Đã xử lý", 
                          ItemIconName: "CheckMark"
                      },
                      {
                          ItemKey: "cancelled",
                          ItemDisplayName: "Hủy yêu cầu",
                          ItemIconName: "Cancel"
                      }
                    )
                  RenderSize: ='PowerCAT.Pivot.RenderSize'.Normal
                  RenderType: ='PowerCAT.Pivot.RenderType'.PivotLinks
                  SelectedKey: ="pending"
                  Width: =448
                  Y: =68
            - Gallery_YC:
                Control: Gallery@2.15.0
                Variant: Vertical
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =1228
                  Items: |-
                    =Filter( 
                        data_service_request, 
                        'Trạng thái' = Switch(
                            Pivot2.Selected.ItemKey,
                            "pending",
                            'Trạng thái (Service Requests)'.'Chờ xử lý',
                            "processing",
                            'Trạng thái (Service Requests)'.'Đang xử lý',
                            "completed",
                            'Trạng thái (Service Requests)'.'Đã hoàn thành',
                            "cancelled",
                            'Trạng thái (Service Requests)'.'Hủy yêu cầu'
                        )
                    )
                  OnSelect: |
                    =UpdateContext(
                        {
                            Record_YC: LookUp(
                                'Service Requests',
                                ID = ThisItem.ID
                            )
                        }
                    );
                    UpdateContext(
                        {
                            Json_result: JSON(
                                DropColumns(
                                    AddColumns(
                                        Filter(
                                            'Multi-image',
                                            Status = 'Status (Multi-image)'.Active,
                                            'Key Data' = Record_YC.Name,
                                            Table = "crdfd_order_request"
                                        ),
                                        id,
                                        ID,
                                        name,
                                        Name,
                                        size,
                                        125438,
                                        type,
                                        "image/png",
                                        data,
                                        Substitute(
                                            Substitute(
                                                Substitute(
                                                    JSON(
                                                        Image.Full,
                                                        JSONFormat.IncludeBinaryData
                                                    ),
                                                    "\",
                                                    ""// Remove backslashes
                                                ),
                                                """",
                                                ""// Remove quotes
                                            ),
                                            "data:application/octet-stream;base64,",
                                            ""// Remove data URI prefix
                                        ),
                                        uploadDate,
                                        Text(
                                            'Created On',
                                            "yyyy-mm-ddThh:mm:ss.fffZ"
                                        ),
                                        note,
                                        Notes
                                    ),
                                    Image,
                                    'Key Data',
                                    ID,
                                    Name,
                                    Table,
                                    'Created On',
                                    Status
                                ),
                                JSONFormat.IncludeBinaryData & JSONFormat.IgnoreUnsupportedTypes
                            )
                        }
                    );
                    UpdateContext({Add_YC: true});
                  TemplateSize: =211
                  Width: =768
                  Y: =138
                Children:
                  - Button6:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =ColorFade(Self.Fill, -15%)
                        Color: |-
                          =Switch(
                              ThisItem.'Loại yêu cầu',
                              'Loại yêu cầu (Service Requests)'.'Tạo đơn hàng', RGBA(16, 185, 129, 1),      // Xanh lá
                              'Loại yêu cầu (Service Requests)'.'Tạo task', RGBA(59, 130, 246, 1),          // Xanh dương  
                              'Loại yêu cầu (Service Requests)'.'Cập nhật tọa độ', RGBA(245, 158, 11, 1),   // Cam
                              RGBA(107, 114, 128, 1)                 // Xám mặc định
                          )
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisplayMode: =DisplayMode.View
                        Fill: |-
                          =Switch(
                              ThisItem.'Loại yêu cầu',
                              'Loại yêu cầu (Service Requests)'.'Tạo đơn hàng', RGBA(16, 185, 129, 0.1),      // Xanh lá
                              'Loại yêu cầu (Service Requests)'.'Tạo task', RGBA(59, 130, 246, 0.1),          // Xanh dương  
                              'Loại yêu cầu (Service Requests)'.'Cập nhật tọa độ', RGBA(245, 158, 11, 0.1),   // Cam
                              RGBA(107, 114, 128, 0.1)                 // Xám mặc định
                          )
                        Font: =Font.'Open Sans'
                        HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                        OnSelect: =Select(Parent)
                        PressedBorderColor: =Self.Fill
                        PressedColor: =Self.Fill
                        PressedFill: =Self.Color
                        RadiusBottomLeft: =30
                        RadiusBottomRight: =30
                        RadiusTopLeft: =30
                        RadiusTopRight: =30
                        Size: =22
                        Text: =ThisItem.'Loại yêu cầu'
                        Width: =300
                        X: =47
                        Y: =38
                  - Label15:
                      Control: Label@2.5.1
                      Properties:
                        Align: =Align.Right
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        OnSelect: =Select(Parent)
                        PaddingRight: =20
                        Size: =20
                        Text: =Text(ThisItem.'Created On',"dd/mm/yyyy hh:mm")
                        Width: =400
                        X: =335
                        Y: =38
                  - Label15_1:
                      Control: Label@2.5.1
                      Properties:
                        Align: =Align.Right
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        OnSelect: =Select(Parent)
                        PaddingRight: =20
                        Size: =18
                        Text: |-
                          ="Ngày xử lý: " & Coalesce(Text(ThisItem.'Ngày xử lý',"dd/mm/yyyy hh:mm"),"--/--/----")
                        Width: '=350 '
                        Wrap: =false
                        X: =388
                        Y: =171
                  - Label15_2:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        OnSelect: =Select(Parent)
                        PaddingLeft: =20
                        PaddingRight: =20
                        Size: =22
                        Text: =ThisItem.'Khách hàng'.'Customer name'
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =27
                        Y: =88
                  - Label15_3:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        Height: =45
                        OnSelect: =Select(Parent)
                        PaddingLeft: =20
                        PaddingRight: =20
                        Size: =20
                        Text: |-
                          ="Mô tả: "
                        Width: =160
                        Wrap: =false
                        X: =27
                        Y: =128
                  - Label15_4:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Font: =Font.'Open Sans'
                        OnSelect: =Select(Parent)
                        PaddingLeft: =20
                        PaddingRight: =20
                        Size: =18
                        Text: |-
                          ="Người xử lý: " & Coalesce(ThisItem.'Người xử lý'.UsernameText,"Chưa có")
                        Width: =350
                        Wrap: =false
                        X: =27
                        Y: =171
                  - HtmlText1:
                      Control: HtmlViewer@2.1.0
                      Properties:
                        DisplayMode: =DisplayMode.View
                        Font: =Font.'Open Sans'
                        Height: =50
                        HtmlText: =ThisItem.'Mô tả'
                        OnSelect: =Select(Parent)
                        Size: =20
                        Width: =600
                        X: =135
                        Y: =128
                  - Button_nen:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =Font.'Open Sans'
                        Height: =196
                        HoverBorderColor: =RGBA(0, 0, 0, 1)
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |
                          =Select(Parent);
                        PressedBorderColor: =RGBA(0, 0, 0, 1)
                        PressedColor: =RGBA(0, 0, 0, 1)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =30
                        RadiusBottomRight: =30
                        RadiusTopLeft: =30
                        RadiusTopRight: =30
                        Text: =
                        Width: =711
                        X: =24
                        Y: =15
            - Icon4:
                Control: Classic/Icon@2.5.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =RGBA(0, 0, 0, 1)
                  Icon: =Icon.ArrowLeft
                  OnSelect: =Back()
                  X: =16
                  Y: =4
      - Circle1:
          Control: Circle@2.3.0
          Group: Group_IconNew
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Fill: =RGBA(53, 61, 63, 1)
            OnSelect: |+
              =UpdateContext({Record_YC:{}});
              UpdateContext({Json_result:"[]"});
              UpdateContext({Add_YC:true});
            X: =636
            Y: =1239
      - Icon9:
          Control: Classic/Icon@2.5.0
          Group: Group_IconNew
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =RGBA(255, 255, 255, 1)
            Height: =50
            Icon: =Icon.Add
            OnSelect: |+
              =UpdateContext({Record_YC:{}});
              UpdateContext({Json_result:"[]"});
              UpdateContext({Add_YC:true});
            Width: =50
            X: =661
            Y: =1264
      - Container_Form_YC:
          Control: GroupContainer@1.4.0
          Variant: ManualLayout
          Properties:
            ContentLanguage: '="" '
            Fill: =RGBA(87, 87, 87, 0.57)
            Height: =1366
            Visible: =Add_YC
            Width: =768
          Children:
            - Button9:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  Color: =RGBA(255, 255, 255, 1)
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =RGBA(255, 255, 255, 1)
                  Font: =Font.'Open Sans'
                  Height: =1052
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =RGBA(255, 255, 255, 1)
                  HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                  PressedBorderColor: =Self.Fill
                  PressedColor: =Self.Fill
                  PressedFill: =Self.Color
                  RadiusBottomLeft: =40
                  RadiusBottomRight: =40
                  RadiusTopLeft: =40
                  RadiusTopRight: =40
                  Text: =
                  Width: =722
                  X: =24
                  Y: =153
            - Label17:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  PaddingLeft: =20
                  Size: =24
                  Text: |-
                    =If(
                        IsBlank(Record_YC.ID),
                        "Tạo yêu cầu mới" ,
                        "Xem yêu cầu"
                    )
                  Width: =678
                  X: =24
                  Y: =179
            - ButtonCanvas2:
                Control: Button@0.0.45
                Properties:
                  BorderRadius: =20
                  DisplayMode: |
                    =If(
                        IsBlank(Record_YC.ID),
                        With(
                            {
                                BaseCondition: !IsBlank(DataCardValue_KhachHang.Selected) 
                                               And Len(DataCardValue_MoTa.Value) > 0,
                                ExtraCondition: !IsBlank(DateValue_NgayChuyen.SelectedDate) 
                                                And Len(DataCardValue_SoTien.Value) > 0
                            },
                            If(
                                BaseCondition And If(
                                    DataCardValue_LoaiYeuCau.Selected.Value = 'Loại yêu cầu (Service Requests)'.'Cập nhật công nợ',
                                    ExtraCondition,
                                    true
                                ),
                                DisplayMode.Edit,
                                DisplayMode.Disabled
                            )
                        ),
                        DisplayMode.Edit
                    )
                  Font: =Font.'Open Sans'
                  FontColor: =RGBA(255, 255, 255, 1)
                  FontSize: =14
                  Height: =79
                  OnSelect: |
                    =If(
                        IsBlank(Location.Latitude),
                        Notify(
                            "Vui lòng mở tọa độ và khởi động lại app",
                            NotificationType.Error,
                            3000
                        ),
                        If(
                            IsBlank(DataCardValue_KhachHang.Selected),
                            Notify(
                                "Vui lòng chọn khách hàng trước khi tạo yêu cầu",
                                NotificationType.Error,
                                3000
                            ),
                            If(
                                IsBlank(Record_YC.ID),
                                Notify(
                                    "Đang tạo yêu cầu",
                                    NotificationType.Information,
                                    2000
                                );
                                UpdateContext(
                                    {
                                        Create_RecordYC: Patch(
                                            'Service Requests',
                                            Defaults('Service Requests'),
                                            {
                                                'Loại yêu cầu': DataCardValue_LoaiYeuCau.Selected.Value,
                                                'Khách hàng': DataCardValue_KhachHang.Selected,
                                                'Mô tả': DataCardValue_MoTa.Value,
                                                'Số tiền': DataCardValue_SoTien.Value,
                                                'Ngày chuyển': DateTime(
                                                    Year(DateValue_NgayChuyen.SelectedDate),
                                                    Month(DateValue_NgayChuyen.SelectedDate),
                                                    Day(DateValue_NgayChuyen.SelectedDate),
                                                    HourValue1.Selected.Value,
                                                    MinuteValue1.Selected.Value,
                                                    00,
                                                    00
                                                ),
                                                'Tọa độ': DataCardValue_ToaDo.Value,
                                                'Đơn hàng gấp': DataCard_donhanggap.Selected.Value
                                            }
                                        )
                                    }
                                );
                                Notify(
                                    "Đang lưu ảnh",
                                    NotificationType.Information,
                                    2000
                                );
                                ForAll(
                                    ParseJSON(ImportMultiImageCanvas1.JsonDataImage),
                                    With(
                                        {
                                            ImageDataUri: "data:" & If(
                                                IsBlank(ThisRecord.type),
                                                "image/jpeg",
                                                Text(ThisRecord.type)
                                            ) & ";base64," & Text(ThisRecord.data),
                                            notes: ThisRecord.note
                                        },
                                        Patch(
                                            'Multi-image',
                                            Defaults('Multi-image'),
                                            {
                                                Image: {
                                                    '@odata.type': "#Microsoft.Dynamics.CRM.ImageDescriptor",
                                                    Value: ImageDataUri,
                                                    Full: ImageDataUri
                                                },
                                                'Key Data': Create_RecordYC.Name,
                                                Table: "crdfd_order_request",
                                                Notes: Text(notes)
                                            }
                                        )
                                    )
                                );
                                ResetForm(Form_New_YC);
                                Notify(
                                    "Tạo thành công",
                                    NotificationType.Success,
                                    3000
                                );
                            );
                            UpdateContext({Add_YC: false})
                        )
                    );
                    UpdateContext({Json_result: "[]"});
                  Text: |-
                    =If(
                        IsBlank(Record_YC.ID),
                        "Tạo",
                        "Đóng"
                    )
                  VerticalAlign: =VerticalAlign.Middle
                  Width: =258
                  X: =430
                  Y: =1116
            - ButtonCanvas2_1:
                Control: Button@0.0.45
                Properties:
                  Appearance: ='ButtonCanvas.Appearance'.Secondary
                  BorderRadius: =20
                  Font: =Font.'Open Sans'
                  FontSize: =14
                  Height: =79
                  OnSelect: |-
                    =If(
                        IsBlank(Record_YC.ID),
                        /* --- Trường hợp không có ID → chỉ đóng form --- */
                        UpdateContext({ Add_YC: false }),

                        /* --- Trường hợp có ID --- */
                        If(
                            Or(
                                Record_YC.'Trạng thái' = 'Trạng thái (Service Requests)'.'Đang xử lý',
                                Record_YC.'Trạng thái' = 'Trạng thái (Service Requests)'.'Chờ xử lý'
                            ),
                            /* --- Chỉ khi trạng thái đúng thì mới cập nhật --- */
                            With(
                                {
                                    Update_RecordYC: Patch(
                                        'Service Requests',
                                        LookUp('Service Requests', ID = Record_YC.ID),
                                        {
                                            'Mô tả': DataCardValue1.Value   /* dùng internal name của cột mô tả */
                                        }
                                    )
                                },
                                /* Xóa ảnh cũ */
                                RemoveIf(
                                    'Multi-image',
                                    'Key Data' = Update_RecordYC.Name && Table = "crdfd_order_request"
                                );

                                /* Thêm ảnh mới */
                                ForAll(
                                    ParseJSON(ImportMultiImageCanvas1.JsonDataImage),
                                    With(
                                        {
                                            ImageDataUri: "data:" & If(
                                                IsBlank(ThisRecord.type),
                                                "image/jpeg",
                                                Text(ThisRecord.type)
                                            ) & ";base64," & Text(ThisRecord.data),
                                            notes: ThisRecord.note
                                        },
                                        Patch(
                                            'Multi-image',
                                            Defaults('Multi-image'),
                                            {
                                                Image: {
                                                    '@odata.type': "#Microsoft.Dynamics.CRM.ImageDescriptor",
                                                    Value: ImageDataUri,
                                                    Full: ImageDataUri
                                                },
                                                'Key Data': Update_RecordYC.Name,
                                                Table: "crdfd_order_request",
                                                Notes: Text(notes)
                                            }
                                        )
                                    )
                                );

                                Notify("Cập nhật thành công", NotificationType.Success, 3000)
                            );
                            UpdateContext({Add_YC: false});
                            ,
                            /* --- Nếu trạng thái khác → không cho cập nhật, chỉ đóng form --- */
                            UpdateContext({ Add_YC: false })
                        )
                    );
                    UpdateContext({Json_result: ""});
                  Text: |+
                    =If(
                        IsBlank(Record_YC.ID),
                        "Đóng",
                        If(
                            Or(
                                Record_YC.'Trạng thái' = 'Trạng thái (Service Requests)'.'Đang xử lý',
                                Record_YC.'Trạng thái' = 'Trạng thái (Service Requests)'.'Chờ xử lý'
                            ),
                            "Cập nhật",
                            "Đóng"
                        )
                    )
                  VerticalAlign: =VerticalAlign.Middle
                  Visible: |+
                    =IsBlank(Record_YC.ID) ||
                        Record_YC.'Trạng thái' = 'Trạng thái (Service Requests)'.'Chờ xử lý'
                  Width: =258
                  X: =115
                  Y: =1116
            - Container3:
                Control: GroupContainer@1.4.0
                Variant: AutoLayout
                Properties:
                  BorderStyle: =BorderStyle.None
                  Height: =854
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutOverflowY: =LayoutOverflow.Scroll
                  Width: =700
                  X: =35
                  Y: =252
                Children:
                  - Container2:
                      Control: GroupContainer@1.4.0
                      Variant: ManualLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.Start
                        BorderStyle: =BorderStyle.None
                        FillPortions: =0
                        Height: =ImportMultiImageCanvas1.Y + ImportMultiImageCanvas1.Height
                        LayoutMaxHeight: =
                        LayoutMaxWidth: =
                        Width: =700
                        X: =36
                        Y: =252
                      Children:
                        - Form_View_YC:
                            Control: Form@2.4.4
                            Layout: Vertical
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              DataSource: ='Service Requests'
                              Height: ='Tọa độ_DataCard1_1'.Height + 'Tọa độ_DataCard1_1'.Y
                              Item: =Record_YC
                              NumberOfColumns: =1
                              OnReset: =true
                              SnapToColumns: =false
                              Visible: =!IsBlank(Record_YC.ID)
                              Width: =700
                            Children:
                              - Loại yêu cầu_DataCard1_1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ComboBoxOptionSetSingleEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_loai_yeu_cau"
                                    Default: =ThisItem.'Loại yêu cầu'
                                    DisplayMode: =DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Loại yêu cầu')
                                    Height: =109
                                    Required: =true
                                    Update: =DataCardValue2_1.Selected.Value
                                    Width: =696
                                    X: =0
                                    Y: =0
                                  Children:
                                    - DataCardKey2_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue2_1:
                                        Control: ComboBox@0.0.51
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DefaultSelectedItems: =Filter(Choices('Loại yêu cầu (Service Requests)'),Value = Record_YC.'Loại yêu cầu')
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =Choices('Loại yêu cầu (Service Requests)')
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey2_1.Y + DataCardKey2_1.Height + 4
                                    - ErrorMessage2_1:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue2_1.Y + DataCardValue2_1.Height
                                    - StarVisible2_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey2_1.Y
                              - Khách hàng_DataCard2_1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ComboBoxEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_Khach_hang"
                                    Default: =ThisItem.'Khách hàng'
                                    DisplayMode: =DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Khách hàng')
                                    Height: =110
                                    Required: =false
                                    Update: =DataCardValue15_1.Selected
                                    Width: =696
                                    X: =0
                                    Y: =1
                                  Children:
                                    - DataCardKey21_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue15_1:
                                        Control: ComboBox@0.0.51
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          BorderColor: =RGBA(214, 221, 224, 1)
                                          BorderStyle: =BorderStyle.Solid
                                          BorderThickness: =1
                                          DefaultSelectedItems: =[Parent.Default]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          InputTextPlaceholder: ="Tìm khách hàng"
                                          Items: |-
                                            =Choices([@'Service Requests'].'Khách hàng')
                                            /*Switch(
                                                true,
                                                check_role_leader_sales,
                                                Filter(
                                                    Customers,
                                                    Status = 'Status (Customers)'.Active
                                                ),
                                                check_role_sup,
                                                Filter(
                                                    Customers,
                                                    Status = 'Status (Customers)'.Active,
                                                    mail_sale in 'Supervisor - mail'
                                                ),
                                                Filter(
                                                    Customers,
                                                    Status = 'Status (Customers)'.Active,
                                                    mail_sale in 'Sale - mail'
                                                )
                                            )*///
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey21_1.Y + DataCardKey21_1.Height + 4
                                        Children:
                                          - Customer name2_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Customer name"
                                                FieldName: ="crdfd_name"
                                                FieldType: ="s"
                                                Order: =1
                                          - crdfd_customerid1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="crdfd_customerid"
                                                FieldName: ="crdfd_customerid"
                                                FieldType: ="g"
                                                Order: =2
                                          - cr44a_makhachhang1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="cr44a_makhachhang"
                                                FieldName: ="cr44a_makhachhang"
                                                FieldType: ="s"
                                                Order: =3
                                    - ErrorMessage19_1:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue15_1.Y + DataCardValue15_1.Height
                                    - StarVisible19_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey21_1.Y
                              - Mô tả_DataCard1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: TextualMultilineEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_mo_ta"
                                    Default: =ThisItem.'Mô tả'
                                    DisplayMode: =DataCardValue1.DisplayMode
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Mô tả')
                                    Required: =true
                                    Update: =DataCardValue1.Value
                                    Width: =700
                                    X: =1
                                    Y: =2
                                  Children:
                                    - DataCardKey8:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue1:
                                        Control: TextInput@0.0.54
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          Height: =110
                                          Mode: ='TextInputCanvas.Mode'.Multiline
                                          OnChange: =
                                          Required: =Parent.Required
                                          TriggerOutput: ='TextInputCanvas.TriggerOutput'.Keypress
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Parent.Default
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey8.Y + DataCardKey8.Height + 4
                                    - ErrorMessage7:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue1.Y + DataCardValue1.Height
                                    - StarVisible2:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =30
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey8.Y
                              - Số tiền_DataCard2:
                                  Control: TypedDataCard@1.0.7
                                  Variant: NumberEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_so_tien"
                                    Default: =ThisItem.'Số tiền'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Số tiền')
                                    Height: =92
                                    Required: =false
                                    Update: =Value(DataCardValue5.Value)
                                    Visible: =DataCardValue2_1.Selected.Value = 'Loại yêu cầu (Service Requests)'.'Cập nhật công nợ'
                                    Width: =696
                                    X: =2
                                    Y: =2
                                  Children:
                                    - DataCardKey6:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue5:
                                        Control: NumberInput@2.9.12
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Max: =Blank()
                                          Min: =Blank()
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Text(Parent.Default,"#,###")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey6.Y + DataCardKey6.Height + 4
                                    - ErrorMessage5:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue5.Y + DataCardValue5.Height
                                    - StarVisible5:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =30
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey6.Y
                              - Ngày chuyển_DataCard2:
                                  Control: TypedDataCard@1.0.7
                                  Variant: DateTimeEdit
                                  IsLocked: true
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_ngay_chuyen"
                                    Default: =ThisItem.'Ngày chuyển'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Ngày chuyển')
                                    Height: =96
                                    Required: =false
                                    Update: =If(Not IsBlank(DateValue2.SelectedDate), DateTime(Year(DateValue2.SelectedDate), Month(DateValue2.SelectedDate), Day(DateValue2.SelectedDate), Value(HourValue2.Selected.Value), Value(MinuteValue2.Selected.Value), Second(DateValue2.SelectedDate)))
                                    Visible: =DataCardValue2_1.Selected.Value = 'Loại yêu cầu (Service Requests)'.'Cập nhật công nợ'
                                    Width: =696
                                    X: =3
                                    Y: =2
                                  Children:
                                    - DataCardKey7:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DateValue2:
                                        Control: DatePicker@0.0.46
                                        MetadataKey: DateFieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Format: ="dd/mm/yyyy"//"Long Abbreviated"
                                          Height: =50
                                          PaddingRight: =50
                                          SelectedDate: =Parent.Default
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =(Parent.Width - 48) / 2
                                          X: =24
                                          Y: =DataCardKey7.Y + DataCardKey7.Height + 4
                                    - HourValue2:
                                        Control: DropDown@0.0.45
                                        MetadataKey: HourFieldValue
                                        Properties:
                                          AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                                          DefaultSelectedItems: =[Text(Hour(Parent.Default),"00")]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                                          PaddingRight: =50
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =DateValue2.Width / 2 - 10
                                          X: =DateValue2.X + DateValue2.Width + 10
                                          Y: =DateValue2.Y + 1
                                    - Separator2:
                                        Control: Text@0.0.51
                                        MetadataKey: HourMinuteSeparator
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =HourValue2.Height
                                          Text: =":"
                                          Width: =10
                                          X: =HourValue2.X + HourValue2.Width
                                          Y: =HourValue2.Y
                                    - MinuteValue2:
                                        Control: DropDown@0.0.45
                                        MetadataKey: MinuteFieldValue
                                        Properties:
                                          AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                                          DefaultSelectedItems: =[Text(Minute(Parent.Default),"00")]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                                          PaddingRight: =50
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =HourValue2.Width
                                          X: =HourValue2.X + HourValue2.Width + Separator2.Width
                                          Y: =HourValue2.Y + 1
                                    - ErrorMessage6:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DateValue2.Y + DateValue2.Height
                                    - StarVisible6:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey7.Y
                              - Sale online_DataCard1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: TextualView
                                  IsLocked: true
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_saleonline"
                                    Default: =ThisItem.'Sale online'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Sale online')
                                    Height: =108
                                    Required: =false
                                    Width: =696
                                    X: =1
                                    Y: =4
                                  Children:
                                    - DataCardKey5:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue4:
                                        Control: TextInput@0.0.54
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =DisplayMode.View
                                          Height: =50
                                          Mode: ="'TextInputCanvas.Mode'.TextInputModeSingleLine"
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Parent.Default
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey5.Y + DataCardKey5.Height + 4
                              - Người tạo đơn_DataCard1_1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ComboBoxEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_Nguoi_tao_don"
                                    Default: =ThisItem.'Người xử lý'
                                    DisplayMode: =DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Người xử lý')
                                    Height: =107
                                    Required: =false
                                    Update: =DataCardValue3_1.Selected
                                    Visible: =true//If(IsBlank(Record_YC.ID), false, true)
                                    Width: =696
                                    X: =0
                                    Y: =5
                                  Children:
                                    - DataCardKey3_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: ="Người xử lý"
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue3_1:
                                        Control: ComboBox@0.0.51
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DefaultSelectedItems: =[{Name:ThisItem.'Người xử lý'.Name}]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =[{Name:ThisItem.'Người xử lý'.Name}]
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey3_1.Y + DataCardKey3_1.Height + 4
                                        Children:
                                          - Ngày vào làm1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Ngày vào làm"
                                                FieldName: ="crdfd_ngaybatau"
                                                FieldType: ="d"
                                                Order: =10
                                          - Ngày chính thức1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Ngày chính thức"
                                                FieldName: ="cr1bb_ngaychinhthuc"
                                                FieldType: ="d"
                                                Order: =11
                                          - Ngày sinh1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Ngày sinh"
                                                FieldName: ="crdfd_ngaysinh"
                                                FieldType: ="d"
                                                Order: =12
                                          - Giới tính1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Giới tính"
                                                FieldName: ="wc001_gioitinh"
                                                FieldType: ="l"
                                                Order: =13
                                          - Số điện thoại1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Số điện thoại"
                                                FieldName: ="crdfd_phonenumber"
                                                FieldType: ="s"
                                                Order: =14
                                          - Loại hình nhân viên1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Loại hình nhân viên"
                                                FieldName: ="crdfd_loaihinhnhanvien"
                                                FieldType: ="l"
                                                Order: =15
                                          - Email công ty/cá nhân1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Email công ty/cá nhân"
                                                FieldName: ="crdfd_emailcanhan"
                                                FieldType: ="s"
                                                Order: =16
                                          - Địa chỉ thường trú1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Địa chỉ thường trú"
                                                FieldName: ="crdfd_diachithuongtru"
                                                FieldType: ="s"
                                                Order: =17
                                          - Địa chỉ hiện tại1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Địa chỉ hiện tại"
                                                FieldName: ="crdfd_iachihientai"
                                                FieldType: ="s"
                                                Order: =18
                                          - CCCD1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="CCCD"
                                                FieldName: ="crdfd_cccd"
                                                FieldType: ="s"
                                                Order: =19
                                          - Ngày cấp1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Ngày cấp"
                                                FieldName: ="crdfd_ngaycap"
                                                FieldType: ="d"
                                                Order: =20
                                          - Nơi cấp1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Nơi cấp"
                                                FieldName: ="crdfd_noicap"
                                                FieldType: ="s"
                                                Order: =21
                                          - Mã số thuế1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Mã số thuế"
                                                FieldName: ="crdfd_masothue"
                                                FieldType: ="s"
                                                Order: =22
                                          - Mã số BHXH1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Mã số BHXH"
                                                FieldName: ="crdfd_sobhxh"
                                                FieldType: ="s"
                                                Order: =23
                                          - STK ngân hàng1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="STK ngân hàng"
                                                FieldName: ="crdfd_stknganhang"
                                                FieldType: ="s"
                                                Order: =24
                                          - Tên ngân hàng1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Tên ngân hàng"
                                                FieldName: ="crdfd_chinhanhnh"
                                                FieldType: ="s"
                                                Order: =25
                                          - Trình độ đào tạo1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Trình độ đào tạo"
                                                FieldName: ="wc001_trinho"
                                                FieldType: ="l"
                                                Order: =26
                                          - Name1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Name"
                                                FieldName: ="Name"
                                                FieldType: ="s"
                                                Order: =9
                                          - Created On1_1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Created On"
                                                FieldName: ="createdon"
                                                FieldType: ="d"
                                                Order: =27
                                    - ErrorMessage3_1:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue3_1.Y + DataCardValue3_1.Height
                                    - StarVisible3_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey3_1.Y
                              - Ngày xử lý_DataCard1_1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: DateTimeEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_ngayxuly"
                                    Default: =ThisItem.'Ngày xử lý'
                                    DisplayMode: =DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Ngày xử lý')
                                    Height: =113
                                    Required: =false
                                    Update: =If(Not IsBlank(DateValue1_1.SelectedDate), DateTime(Year(DateValue1_1.SelectedDate), Month(DateValue1_1.SelectedDate), Day(DateValue1_1.SelectedDate), Value(HourValue1_1.Selected.Value), Value(MinuteValue1_1.Selected.Value), Second(DateValue1_1.SelectedDate)))
                                    Visible: =true//If(IsBlank(Record_YC.ID), false, true)
                                    Width: =696
                                    X: =0
                                    Y: =6
                                  Children:
                                    - DataCardKey4_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DateValue1_1:
                                        Control: DatePicker@0.0.46
                                        MetadataKey: DateFieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Format: ="dd/mm/yyyy"//'DatePickerCanvas.Format'.Short
                                          Height: =50
                                          SelectedDate: =Parent.Default
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =(Parent.Width - 48) / 2
                                          X: =24
                                          Y: =DataCardKey4_1.Y + DataCardKey4_1.Height + 4
                                    - HourValue1_1:
                                        Control: DropDown@0.0.45
                                        MetadataKey: HourFieldValue
                                        Properties:
                                          AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                                          DefaultSelectedItems: =[Text(Hour(Parent.Default),"00")]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =DateValue1_1.Width / 2 - 10
                                          X: =DateValue1_1.X + DateValue1_1.Width + 10
                                          Y: =DateValue1_1.Y + 1
                                    - Separator1_1:
                                        Control: Text@0.0.51
                                        MetadataKey: HourMinuteSeparator
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =HourValue1_1.Height
                                          Text: =":"
                                          Width: =10
                                          X: =HourValue1_1.X + HourValue1_1.Width
                                          Y: =HourValue1_1.Y
                                    - MinuteValue1_1:
                                        Control: DropDown@0.0.45
                                        MetadataKey: MinuteFieldValue
                                        Properties:
                                          AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                                          DefaultSelectedItems: =[Text(Minute(Parent.Default),"00")]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =HourValue1_1.Width
                                          X: =HourValue1_1.X + HourValue1_1.Width + Separator1_1.Width
                                          Y: =HourValue1_1.Y + 1
                                    - ErrorMessage4_1:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DateValue1_1.Y + DateValue1_1.Height
                                    - StarVisible4_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey4_1.Y
                              - Tọa độ_DataCard1_1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: TextualEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_toa_do"
                                    Default: =toa_do
                                    DisplayMode: =DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Tọa độ')
                                    Height: =111
                                    MaxLength: =DataSourceInfo([@'Service Requests'], DataSourceInfo.MaxLength, 'Tọa độ')
                                    Required: =false
                                    Update: =DataCardValue1_1.Value
                                    Width: =696
                                    X: =1
                                    Y: =6
                                  Children:
                                    - DataCardKey1_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue1_1:
                                        Control: TextInput@0.0.54
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Mode: ="'TextInputCanvas.Mode'.TextInputModeSingleLine"
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Parent.Default
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey1_1.Y + DataCardKey1_1.Height + 4
                                    - ErrorMessage1_1:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue1_1.Y + DataCardValue1_1.Height
                                    - StarVisible1_1:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =30
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey1_1.Y
                        - Form_New_YC:
                            Control: Form@2.4.4
                            Layout: Vertical
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              DataSource: ='Service Requests'
                              DefaultMode: =FormMode.New
                              Height: =1065
                              NumberOfColumns: =1
                              OnReset: =true
                              SnapToColumns: =false
                              Visible: =IsBlank(Record_YC.ID)
                              Width: =700
                            Children:
                              - Loại yêu cầu_DataCard1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ComboBoxOptionSetSingleEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_loai_yeu_cau"
                                    Default: =ThisItem.'Loại yêu cầu'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Loại yêu cầu')
                                    Height: =107
                                    Required: =true
                                    Update: =DataCardValue_LoaiYeuCau.Selected.Value
                                    Width: =696
                                    X: =0
                                    Y: =0
                                  Children:
                                    - DataCardKey2:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue_LoaiYeuCau:
                                        Control: ComboBox@0.0.51
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DefaultSelectedItems: =Filter(Choices('Loại yêu cầu (Service Requests)'),Value = 'Loại yêu cầu (Service Requests)'.'Tạo đơn hàng')
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =Choices('Loại yêu cầu (Service Requests)')
                                          OnChange: |-
                                            =Reset(DateValue_NgayChuyen);
                                            Reset(DataCardValue_SoTien)
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey2.Y + DataCardKey2.Height + 4
                                    - ErrorMessage2:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue_LoaiYeuCau.Y + DataCardValue_LoaiYeuCau.Height
                              - Khách hàng_DataCard2:
                                  Control: TypedDataCard@1.0.7
                                  Variant: ComboBoxEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_Khach_hang"
                                    Default: =ThisItem.'Khách hàng'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Khách hàng')
                                    Height: =109
                                    Required: =false
                                    Update: =DataCardValue_KhachHang.Selected
                                    Width: =696
                                    X: =0
                                    Y: =1
                                  Children:
                                    - DataCardKey21:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue_KhachHang:
                                        Control: ComboBox@0.0.51
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          BorderColor: =RGBA(214, 221, 224, 1)
                                          BorderStyle: =BorderStyle.Solid
                                          BorderThickness: =1
                                          DefaultSelectedItems: =[Parent.Default]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          InputTextPlaceholder: ="Tìm khách hàng"
                                          Items: =var_kh
                                          OnChange: =Set(var_SearchText, Text(DataCardValue_KhachHang.SearchText))
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey21.Y + DataCardKey21.Height + 4
                                        Children:
                                          - Customer name2:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="Customer name"
                                                FieldName: ="crdfd_name"
                                                FieldType: ="s"
                                                Order: =1
                                          - crdfd_customerid1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="crdfd_customerid"
                                                FieldName: ="crdfd_customerid"
                                                FieldType: ="g"
                                                Order: =2
                                          - cr44a_makhachhang1:
                                              Control: ComboBoxDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="cr44a_makhachhang"
                                                FieldName: ="cr44a_makhachhang"
                                                FieldType: ="s"
                                                Order: =3
                                    - ErrorMessage19:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue_KhachHang.Y + DataCardValue_KhachHang.Height
                                    - StarVisible19:
                                        Control: Text@0.0.51
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey21.Y
                              - Mô tả_DataCard2:
                                  Control: TypedDataCard@1.0.7
                                  Variant: TextualMultilineEdit
                                  IsLocked: true
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_mo_ta"
                                    Default: =ThisItem.'Mô tả'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Mô tả')
                                    Height: =217
                                    Required: =false
                                    Update: =DataCardValue_MoTa.Value
                                    Width: =696
                                    X: =0
                                    Y: =2
                                  Children:
                                    - DataCardKey13:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue_MoTa:
                                        Control: TextInput@0.0.54
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          BorderColor: =RGBA(214, 221, 224, 1)
                                          BorderStyle: =BorderStyle.Solid
                                          BorderThickness: =1
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =160
                                          Mode: ='TextInputCanvas.Mode'.Multiline
                                          Placeholder: ="Nhập mô tả"
                                          Required: =Parent.Required
                                          TriggerOutput: ='TextInputCanvas.TriggerOutput'.Keypress
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Parent.Default
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey13.Y + DataCardKey13.Height + 4
                                    - ErrorMessage11:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue_MoTa.Y + DataCardValue_MoTa.Height
                                    - StarVisible11:
                                        Control: Text@0.0.51
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =30
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey13.Y
                              - Số tiền_DataCard1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: NumberEdit
                                  IsLocked: true
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_so_tien"
                                    Default: =ThisItem.'Số tiền'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Số tiền')
                                    Required: =false
                                    Update: =Value(DataCardValue_SoTien.Value)
                                    Visible: =DataCardValue_LoaiYeuCau.Selected.Value = 'Loại yêu cầu (Service Requests)'.'Cập nhật công nợ'
                                    Width: =702
                                    X: =0
                                    Y: =5
                                  Children:
                                    - DataCardKey3:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue_SoTien:
                                        Control: NumberInput@2.9.12
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Max: =Blank()
                                          Min: =Blank()
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Parent.Default
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey3.Y + DataCardKey3.Height + 4
                                    - ErrorMessage3:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue_SoTien.Y + DataCardValue_SoTien.Height
                                    - StarVisible3:
                                        Control: Text@0.0.51
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =30
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey3.Y
                              - Ngày chuyển_DataCard1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: DateTimeEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_ngay_chuyen"
                                    Default: =ThisItem.'Ngày chuyển'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Ngày chuyển')
                                    Required: =false
                                    Update: =If(Not IsBlank(DateValue_NgayChuyen.SelectedDate), DateTime(Year(DateValue_NgayChuyen.SelectedDate), Month(DateValue_NgayChuyen.SelectedDate), Day(DateValue_NgayChuyen.SelectedDate), Value(HourValue1.Selected.Value), Value(MinuteValue1.Selected.Value), Second(DateValue_NgayChuyen.SelectedDate)))
                                    Visible: =DataCardValue_LoaiYeuCau.Selected.Value = 'Loại yêu cầu (Service Requests)'.'Cập nhật công nợ'
                                    Width: =702
                                    X: =1
                                    Y: =5
                                  Children:
                                    - DataCardKey4:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DateValue_NgayChuyen:
                                        Control: DatePicker@0.0.46
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Format: ="dd/mm/yyyy"
                                          Height: =50
                                          SelectedDate: =Parent.Default
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =(Parent.Width - 48) / 2
                                          X: =24
                                          Y: =DataCardKey4.Y + DataCardKey4.Height + 4
                                    - HourValue1:
                                        Control: DropDown@0.0.45
                                        Properties:
                                          AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                                          DefaultSelectedItems: =[Text(Hour(Parent.Default),"08")]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =DateValue_NgayChuyen.Width / 2 - 10
                                          X: =DateValue_NgayChuyen.X + DateValue_NgayChuyen.Width + 10
                                          Y: =DateValue_NgayChuyen.Y + 1
                                    - Separator1:
                                        Control: Text@0.0.51
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =HourValue1.Height
                                          Text: =":"
                                          Width: =10
                                          X: =HourValue1.X + HourValue1.Width
                                          Y: =HourValue1.Y
                                    - MinuteValue1:
                                        Control: DropDown@0.0.45
                                        Properties:
                                          AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                                          DefaultSelectedItems: =[Text(Minute(Parent.Default),"00")]
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =HourValue1.Width
                                          X: =HourValue1.X + HourValue1.Width + Separator1.Width
                                          Y: =HourValue1.Y + 1
                                    - ErrorMessage4:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DateValue_NgayChuyen.Y + DateValue_NgayChuyen.Height
                                    - StarVisible4:
                                        Control: Text@0.0.51
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey4.Y
                              - "'Đơn hàng gấp_DataCard1'":
                                  Control: TypedDataCard@1.0.7
                                  Variant: ComboBoxOptionSetSingleEdit
                                  IsLocked: true
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_don_hang_gap"
                                    Default: =ThisItem.'Đơn hàng gấp'
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Đơn hàng gấp')
                                    Required: =false
                                    Update: =DataCard_donhanggap.Selected.Value
                                    Width: =700
                                    X: =2
                                    Y: =5
                                  Children:
                                    - DataCardKey9:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldName
                                        Properties:
                                          Height: =22
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCard_donhanggap:
                                        Control: ComboBox@0.0.51
                                        MetadataKey: FieldValue
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DefaultSelectedItems: =[Parent.Default]
                                          DisplayMode: =Parent.DisplayMode
                                          Items: =Choices('Đơn hàng gấp (Service Requests)')
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey9.Y + DataCardKey9.Height + 4
                                    - ErrorMessage8:
                                        Control: Text@0.0.51
                                        MetadataKey: ErrorMessage
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCard_donhanggap.Y + DataCard_donhanggap.Height
                                    - StarVisible7:
                                        Control: Text@0.0.51
                                        MetadataKey: FieldRequired
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =20
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey9.Y
                              - Tọa độ_DataCard1:
                                  Control: TypedDataCard@1.0.7
                                  Variant: TextualEdit
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DataField: ="crdfd_toa_do"
                                    Default: =toa_do
                                    DisplayMode: =DisplayMode.View
                                    DisplayName: =DataSourceInfo([@'Service Requests'],DataSourceInfo.DisplayName,'Tọa độ')
                                    MaxLength: =DataSourceInfo([@'Service Requests'], DataSourceInfo.MaxLength, 'Tọa độ')
                                    Required: =false
                                    Update: =DataCardValue_ToaDo.Value
                                    Width: =696
                                    X: =0
                                    Y: =6
                                  Children:
                                    - DataCardKey1:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =37
                                          Text: =Parent.DisplayName
                                          Weight: ='TextCanvas.Weight'.Semibold
                                          Width: =Parent.Width - 48
                                          Wrap: =false
                                          X: =24
                                          Y: =10
                                    - DataCardValue_ToaDo:
                                        Control: TextInput@0.0.54
                                        Properties:
                                          AccessibleLabel: =Parent.DisplayName
                                          DisplayMode: =Parent.DisplayMode
                                          Height: =50
                                          Mode: ="'TextInputCanvas.Mode'.TextInputModeSingleLine"
                                          Required: =Parent.Required
                                          ValidationState: =If(IsBlank(Parent.Error), "None", "Error")
                                          Value: =Parent.Default
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardKey1.Y + DataCardKey1.Height + 4
                                    - ErrorMessage1:
                                        Control: Text@0.0.51
                                        Properties:
                                          Height: =30
                                          Text: =Parent.Error
                                          Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =Parent.Width - 48
                                          X: =24
                                          Y: =DataCardValue_ToaDo.Y + DataCardValue_ToaDo.Height
                                    - StarVisible1:
                                        Control: Text@0.0.51
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Height: =30
                                          Text: ="*"
                                          Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                          Width: =30
                                          Y: =DataCardKey1.Y
                        - ImportMultiImageCanvas1:
                            Control: CodeComponent
                            ComponentName: crdfd_CustomComponent.ImportMultiImageCanvas
                            Properties:
                              Height: =548
                              HeightControl: =If(!IsBlank(Record_YC.ID),300,170)
                              JsonDataImage: =Json_result
                              ViewOnly: =(Record_YC.'Trạng thái' <> 'Trạng thái (Service Requests)'.'Chờ xử lý' And !IsBlank(Record_YC.Name))// Or !IsBlank(Record_YC.Name)
                              Width: =668
                              WidthControl: =300
                              X: =16
                              Y: =If(!IsBlank(Record_YC.ID), 'Tọa độ_DataCard1_1'.Height + 'Tọa độ_DataCard1_1'.Y,  'Tọa độ_DataCard1'.Height+'Tọa độ_DataCard1'.Y)
                              maxFileSize: =10
                              maxFiles: =5
            - TextCanvas1:
                Control: Text@0.0.51
                Properties:
                  X: =40
                  Y: =40
